{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to DD2414 Engineering project in Robotics, Perception and Learning Here you will find all the information related to the first iteration of DD2414. The main objective of this course was to design and build a serviceable research drone platform tailored towards indoor navigation. Heavy boy Frequently used links PX4 Official Site Pixhawk 4 Pinout Technical Data Sheet PX4 Flight Analysis Tool QGround Control Teraranger Evo Mini User Manual Intel RealSense ROS Documentation","title":"Home"},{"location":"#welcome-to-dd2414-engineering-project-in-robotics-perception-and-learning","text":"Here you will find all the information related to the first iteration of DD2414. The main objective of this course was to design and build a serviceable research drone platform tailored towards indoor navigation. Heavy boy","title":"Welcome to DD2414 Engineering project in Robotics, Perception and Learning"},{"location":"#frequently-used-links","text":"PX4 Official Site Pixhawk 4 Pinout Technical Data Sheet PX4 Flight Analysis Tool QGround Control Teraranger Evo Mini User Manual Intel RealSense ROS Documentation","title":"Frequently used links"},{"location":"about/","text":"DD2414 Engineering project in Robotics, Perception and Learning Autumn 2020 Students: Luis Alejandro Sarmiento Gonzalez lasg@kth.se | alejandro.sar.gon@gmail.com Kyle Coble coble@kth.se | kwc57@cornell.edu Course responsible & supervisors: Patric Jensfelt Ludvig Ericson Daniel Duberg Goal: Design and build a serviceable research drone platform tailored towards indoor navigation. Syllabus Plan, design, source, integrate, and implement a robotic solution in the form of a serviceable research drone platform tailored towards indoor navigation. A. Mechanical design, sourcing, and construction of drone platform. B. Electrical design, sourcing, and integration of all components. C. Software integration of low level firmware (PX4) and ROS. Documentation of project A. Project planning and management through task tracking with agile development. B. Motivation of design choices. C. Documentation of the final platform in the form of a comprehensive usage guide. Work in collaboration with other group members and supervisors (PhD students and Professors). Primary ILO: As a group, choose a course of approach and define, follow and follow up a plan for carrying out a larger project task in a given resource budget. Systematically design, implement, test and demonstrate a prototype system that meets given specifications and design goals. Present orally and in writing (in English), a description and defense of a technical solution to a problem in robotics, perception and learning. Be able to participate professionally in project work in activities in robotics, perception and learning. Secondary ILO: Implement and integrate a number of important tools and technologies used in robotics. Be able to assess the value of, and to a suitable extent utilize, existing solutions as a part of a robotics project. Use adequate engineering tools and methods and acquire new knowledge and skill when needed.","title":"About"},{"location":"about/#autumn-2020","text":"Students: Luis Alejandro Sarmiento Gonzalez lasg@kth.se | alejandro.sar.gon@gmail.com Kyle Coble coble@kth.se | kwc57@cornell.edu Course responsible & supervisors: Patric Jensfelt Ludvig Ericson Daniel Duberg Goal: Design and build a serviceable research drone platform tailored towards indoor navigation.","title":"Autumn 2020"},{"location":"about/#syllabus","text":"Plan, design, source, integrate, and implement a robotic solution in the form of a serviceable research drone platform tailored towards indoor navigation. A. Mechanical design, sourcing, and construction of drone platform. B. Electrical design, sourcing, and integration of all components. C. Software integration of low level firmware (PX4) and ROS. Documentation of project A. Project planning and management through task tracking with agile development. B. Motivation of design choices. C. Documentation of the final platform in the form of a comprehensive usage guide. Work in collaboration with other group members and supervisors (PhD students and Professors).","title":"Syllabus"},{"location":"about/#primary-ilo","text":"As a group, choose a course of approach and define, follow and follow up a plan for carrying out a larger project task in a given resource budget. Systematically design, implement, test and demonstrate a prototype system that meets given specifications and design goals. Present orally and in writing (in English), a description and defense of a technical solution to a problem in robotics, perception and learning. Be able to participate professionally in project work in activities in robotics, perception and learning.","title":"Primary ILO:"},{"location":"about/#secondary-ilo","text":"Implement and integrate a number of important tools and technologies used in robotics. Be able to assess the value of, and to a suitable extent utilize, existing solutions as a part of a robotics project. Use adequate engineering tools and methods and acquire new knowledge and skill when needed.","title":"Secondary ILO:"},{"location":"tests/","text":"Weekly Update Presentations and Flight Tests In this section you will find a link to all the available presentations during this project course and all the flight tests performed. Presentations Week 50 Week 49 Week 48 Week 47 Week 46 Week 45 Flight tests All the flight tests follow the same documentation guideline, a video of the flight, a rosbag containing useful topics (MAVROS and tf), PX4 flight logs and flight notes containing observations and brief analysis. \u251c\u2500\u2500 ###_<flight test name> \u251c\u2500\u2500 flight.MOV \u251c\u2500\u2500 flight_log.ulg \u251c\u2500\u2500 rosbag.bag \u2514\u2500\u2500 flight_notes.txt 01_flight_test 02_flight_test 03_flight_test 04_flight_test 05_flight_test 06_flight_test 07_flight_test 08_flight_test 09_flight_test 10_flight_test 11_flight_test 12_flight_test 13_flight_test 14_flight_test 15_flight_test 16_flight_test 17_flight_test 18_flight_test 19_flight_test 20_flight_test 21_flight_test 22_flight_test 23_flight_test 24_flight_test 25_flight_test As a side test, we wanted to know how strong the 3D printed landing gear was (within reason). Hence we did some drop test, that you can find here Drop tests","title":"Weekly Updates & Tests"},{"location":"tests/#weekly-update-presentations-and-flight-tests","text":"In this section you will find a link to all the available presentations during this project course and all the flight tests performed.","title":"Weekly Update Presentations and Flight Tests"},{"location":"tests/#presentations","text":"Week 50 Week 49 Week 48 Week 47 Week 46 Week 45","title":" Presentations"},{"location":"tests/#flight-tests","text":"All the flight tests follow the same documentation guideline, a video of the flight, a rosbag containing useful topics (MAVROS and tf), PX4 flight logs and flight notes containing observations and brief analysis. \u251c\u2500\u2500 ###_<flight test name> \u251c\u2500\u2500 flight.MOV \u251c\u2500\u2500 flight_log.ulg \u251c\u2500\u2500 rosbag.bag \u2514\u2500\u2500 flight_notes.txt 01_flight_test 02_flight_test 03_flight_test 04_flight_test 05_flight_test 06_flight_test 07_flight_test 08_flight_test 09_flight_test 10_flight_test 11_flight_test 12_flight_test 13_flight_test 14_flight_test 15_flight_test 16_flight_test 17_flight_test 18_flight_test 19_flight_test 20_flight_test 21_flight_test 22_flight_test 23_flight_test 24_flight_test 25_flight_test As a side test, we wanted to know how strong the 3D printed landing gear was (within reason). Hence we did some drop test, that you can find here Drop tests","title":" Flight tests"},{"location":"assembly/about/","text":"Assembly Overview TO DO","title":"About"},{"location":"assembly/about/#assembly-overview","text":"TO DO","title":"Assembly Overview"},{"location":"assembly/frame/","text":"Frame Assembly The frame used in this design is a Q380 Multirotor Frame with a Power Distribution Board (PDB) integrated into the frame body. NOTE: It is recommended to follow some of the power supply installation instructions prior to assembling the frame as it will be easier to solder necessary components to the integrated PDB before the frame is assembled. Standard Frame Assembly Assembling the standard frame is fairly straightforward, by following the instructions in the Q380 Multirotor Frame Kit . Only the parts included in the frame kit are required. This assembly is sufficient for smaller battery form factors, i.e. 4000 mAh 4S LiPo batteries. However, the optimal design includes a 8500 mAh LiPo battery that requires 3D printed Large Battery Adapters to clear enough space for the large battery form factor. Large Battery Frame Assembly Required Parts 1x Q380 Multirotor Frame Kit (w/ accompanying screws) 4x Large Battery Adapter 8x M2.5 x 12 phillips screws (slightly shorter OK) 8x M3 x 10 torx scews 8x M3 Nuts Procedure 3D Printing Assembling the landing gear first requires printing all necessary components, detailed in the table below: Component Name Quantity Recommended Orientation Large Battery Adapter 4 Top side down CAD files can be found at Large Battery Adapter . The recommended orientations are selected primarily for ease of removing the breakaway support material. In this case, it is so the nut slot doesn't fill with support material. For our implementation, the parts were printed with PLA material using the standard print settings (with breakaway support under bridges) of the Makerbot Replicator+ 3D printer. Printed component quality/durability could possibly be improved by the use of ABS material or by modifying print settings. Recommended setting changes for these parts include: 60% infill Hexagonal Fill Pattern Assembly Connect the drone frame arms to the lower plate, per instructions in the kit. Attach the bottom of 3D printed adapters to top of Q380 arms with M2.5x12 screws. Have the screw openings in the printed components facing out. Stick small screwdriver through top hole to access bottom screw. Flip entire top (with arms already attached) upside down Slip M3 nuts into slots It will probably be easier to complete this and the next step together, one screw at a time. Attach Q380 top plate to adapters with M3 x 10 torx scews. -- Weight added from larger battery adapters Total: 26 g (all four) Per arm: 6.5 g/set Individual components: Printed Adapter: ~3.5 g/st M2.5 x 12: ~0.5 g/st M3 x 10: ~0.5 g/st M3 nut: ~0.25 g/st","title":"Frame"},{"location":"assembly/frame/#frame-assembly","text":"The frame used in this design is a Q380 Multirotor Frame with a Power Distribution Board (PDB) integrated into the frame body. NOTE: It is recommended to follow some of the power supply installation instructions prior to assembling the frame as it will be easier to solder necessary components to the integrated PDB before the frame is assembled.","title":"Frame Assembly"},{"location":"assembly/frame/#standard-frame-assembly","text":"Assembling the standard frame is fairly straightforward, by following the instructions in the Q380 Multirotor Frame Kit . Only the parts included in the frame kit are required. This assembly is sufficient for smaller battery form factors, i.e. 4000 mAh 4S LiPo batteries. However, the optimal design includes a 8500 mAh LiPo battery that requires 3D printed Large Battery Adapters to clear enough space for the large battery form factor.","title":"Standard Frame Assembly"},{"location":"assembly/frame/#large-battery-frame-assembly","text":"","title":"Large Battery Frame Assembly"},{"location":"assembly/frame/#required-parts","text":"1x Q380 Multirotor Frame Kit (w/ accompanying screws) 4x Large Battery Adapter 8x M2.5 x 12 phillips screws (slightly shorter OK) 8x M3 x 10 torx scews 8x M3 Nuts","title":"Required Parts"},{"location":"assembly/frame/#procedure","text":"","title":"Procedure"},{"location":"assembly/frame/#3d-printing","text":"Assembling the landing gear first requires printing all necessary components, detailed in the table below: Component Name Quantity Recommended Orientation Large Battery Adapter 4 Top side down CAD files can be found at Large Battery Adapter . The recommended orientations are selected primarily for ease of removing the breakaway support material. In this case, it is so the nut slot doesn't fill with support material. For our implementation, the parts were printed with PLA material using the standard print settings (with breakaway support under bridges) of the Makerbot Replicator+ 3D printer. Printed component quality/durability could possibly be improved by the use of ABS material or by modifying print settings. Recommended setting changes for these parts include: 60% infill Hexagonal Fill Pattern","title":"3D Printing"},{"location":"assembly/frame/#assembly","text":"Connect the drone frame arms to the lower plate, per instructions in the kit. Attach the bottom of 3D printed adapters to top of Q380 arms with M2.5x12 screws. Have the screw openings in the printed components facing out. Stick small screwdriver through top hole to access bottom screw. Flip entire top (with arms already attached) upside down Slip M3 nuts into slots It will probably be easier to complete this and the next step together, one screw at a time. Attach Q380 top plate to adapters with M3 x 10 torx scews. -- Weight added from larger battery adapters Total: 26 g (all four) Per arm: 6.5 g/set Individual components: Printed Adapter: ~3.5 g/st M2.5 x 12: ~0.5 g/st M3 x 10: ~0.5 g/st M3 nut: ~0.25 g/st","title":"Assembly"},{"location":"assembly/landing_gear/","text":"Landing Gear Assembly Required Parts 2x sets of 3D printed standard leg components 2x sets of 3D printed D435i mount leg components 12x NdFeB magnets of 8x3 mm (1.3 kg tensile force) 4x Large zip ties (e.g. 200mm x 4.6mm) Procedure 3D Printing Assembling the landing gear first requires printing all necessary components, detailed in the table below: Component Name Quantity Recommended Orientation Main Leg (No camera mount) 2 Arm connection down Main Leg (With camera mount) 2 Arm connection down Lower Leg 4 Magnetic slots up Magnetic Insert 4 Magnetic slots up Magnetic Insert Pins 8 Flat head down Rounded Foot 4 Rounded foot down CAD files can be found at Landing Gear Assembly CAD . The recommended orientations are selected primarily for ease of removing the breakaway support material. For our implementation, the parts were printed with PLA material using the standard print settings (with breakaway support under bridges) of the Makerbot Replicator+ 3D printer. Printed component quality/durability could possibly be improved by the use of ABS material or by modifying print settings. Magnet Insertion The magnets in the magnetic insert and the lower leg are used as shocks. By facing the magnets so they repel, the magnets will absorb energy and dampen the impact during hard landings / drops and protect the drone components (within reason). It is important that the magnet pairs are oriented such that they repel. For this reason, it is recommended that all magnets are inserted in the SAME DIRECTION for all lower legs and magnetic inserts, so that when the lower leg and magnetic insert are pointed towards each other, they repel. This also will make it so that the lower parts are all interchangeable so you won't have to keep track of which lower leg corresponds to which magnetic insert. The magnets should fit snugly into the magnet grooves and since the magnets are repelling, they should not be pulled out of their grooves. This means no glue is required when placing the magnets into their grooves. You could place a small drop of super glue into the groove before placing the magnets to ensure they hold. Just be sure that the magnet will be correctly oriented before using any glue. Mounting to Q380 Arm Find the right spot on the Q380 arm (as on the images below) and carefully push the clip of the main leg onto the arm of the Q380 quadrotor frame. Note that the longer side of the V in the top of the clip points goes towards the center of the drone frame and that the pyramidal supports of the clip slide around the vertical part of the arched supports of the Q380 arm. See the images below for an example of where/how the landing gear clips to the Q380 arms. Note that this is an example clip, not the actual clip on the main leg of the landing gear. Use one of the large zip ties to secure the landing gear to the arm. The zip tie is fed through the slot under the clip portion of the main leg, and slides over the grooves along the top of the clip, as seen below: Final Assembly Slide the magnetic insert into the opening in the bottom of the main leg. Ensure the magnets are facing out, such that you can see the magnet if you look into the bottom of the leg. Push the lower leg into the opening of the main leg, oriented so the 3 magnets in the lower leg line up with the 3 magnets in the magnetic insert. You should feel the magnets of the lower leg pushing the magnetic insert all the way back into the main leg. With the lower leg pushed into the main leg, insert the two magnetic insert pins into the side of the main leg such that it goes through the slot in the lower leg. The direction the pins are inserted doesn't matter. If the sliding action of the lower leg in the main leg feels stiff / stuck, then you should exercise the range of motion by hand to wear the parts until compression and expansion (repulsion) is smooth. If the sliding action feels like it may be getting stuck specifically on the pins, it is easy to remove the pins and sand/shave them down. Insert the shaft of the rounded foot into the round hole in the bottom of the lower leg.","title":"Landing Gear"},{"location":"assembly/landing_gear/#landing-gear-assembly","text":"","title":"Landing Gear Assembly"},{"location":"assembly/landing_gear/#required-parts","text":"2x sets of 3D printed standard leg components 2x sets of 3D printed D435i mount leg components 12x NdFeB magnets of 8x3 mm (1.3 kg tensile force) 4x Large zip ties (e.g. 200mm x 4.6mm)","title":"Required Parts"},{"location":"assembly/landing_gear/#procedure","text":"","title":"Procedure"},{"location":"assembly/landing_gear/#3d-printing","text":"Assembling the landing gear first requires printing all necessary components, detailed in the table below: Component Name Quantity Recommended Orientation Main Leg (No camera mount) 2 Arm connection down Main Leg (With camera mount) 2 Arm connection down Lower Leg 4 Magnetic slots up Magnetic Insert 4 Magnetic slots up Magnetic Insert Pins 8 Flat head down Rounded Foot 4 Rounded foot down CAD files can be found at Landing Gear Assembly CAD . The recommended orientations are selected primarily for ease of removing the breakaway support material. For our implementation, the parts were printed with PLA material using the standard print settings (with breakaway support under bridges) of the Makerbot Replicator+ 3D printer. Printed component quality/durability could possibly be improved by the use of ABS material or by modifying print settings.","title":"3D Printing"},{"location":"assembly/landing_gear/#magnet-insertion","text":"The magnets in the magnetic insert and the lower leg are used as shocks. By facing the magnets so they repel, the magnets will absorb energy and dampen the impact during hard landings / drops and protect the drone components (within reason). It is important that the magnet pairs are oriented such that they repel. For this reason, it is recommended that all magnets are inserted in the SAME DIRECTION for all lower legs and magnetic inserts, so that when the lower leg and magnetic insert are pointed towards each other, they repel. This also will make it so that the lower parts are all interchangeable so you won't have to keep track of which lower leg corresponds to which magnetic insert. The magnets should fit snugly into the magnet grooves and since the magnets are repelling, they should not be pulled out of their grooves. This means no glue is required when placing the magnets into their grooves. You could place a small drop of super glue into the groove before placing the magnets to ensure they hold. Just be sure that the magnet will be correctly oriented before using any glue.","title":"Magnet Insertion"},{"location":"assembly/landing_gear/#mounting-to-q380-arm","text":"Find the right spot on the Q380 arm (as on the images below) and carefully push the clip of the main leg onto the arm of the Q380 quadrotor frame. Note that the longer side of the V in the top of the clip points goes towards the center of the drone frame and that the pyramidal supports of the clip slide around the vertical part of the arched supports of the Q380 arm. See the images below for an example of where/how the landing gear clips to the Q380 arms. Note that this is an example clip, not the actual clip on the main leg of the landing gear. Use one of the large zip ties to secure the landing gear to the arm. The zip tie is fed through the slot under the clip portion of the main leg, and slides over the grooves along the top of the clip, as seen below:","title":"Mounting to Q380 Arm"},{"location":"assembly/landing_gear/#final-assembly","text":"Slide the magnetic insert into the opening in the bottom of the main leg. Ensure the magnets are facing out, such that you can see the magnet if you look into the bottom of the leg. Push the lower leg into the opening of the main leg, oriented so the 3 magnets in the lower leg line up with the 3 magnets in the magnetic insert. You should feel the magnets of the lower leg pushing the magnetic insert all the way back into the main leg. With the lower leg pushed into the main leg, insert the two magnetic insert pins into the side of the main leg such that it goes through the slot in the lower leg. The direction the pins are inserted doesn't matter. If the sliding action of the lower leg in the main leg feels stiff / stuck, then you should exercise the range of motion by hand to wear the parts until compression and expansion (repulsion) is smooth. If the sliding action feels like it may be getting stuck specifically on the pins, it is easy to remove the pins and sand/shave them down. Insert the shaft of the rounded foot into the round hole in the bottom of the lower leg.","title":"Final Assembly"},{"location":"design/electrical/","text":"Electrical design considerations. As stated previously, the aim of the project was to improve previous versions of the research drones. The reported issues with the previous platforms are: Hexacopter: Burnt motors, high pitch noise. Quadcopter: NUC power disruption on takeoff or power surge. No current sensor. Two PDBs used. Taking these considerations, the electrical diagram/design is the following: The Q380 bottom plate was used as the PDB, this simplifies the cabling and saves space. We decided to keep the Y-PWR hot-swap load sharing controller, as it acts as an ideal OR to alternate between battery power and wall power. The 2200uF capacitor was selected according to recommended values for drones, to filter ripples, spikes and noise from the LiPo battery ( produced by quickly varying voltages, current and frequencies demanded by the circuit), the aim is to provide a more stable output. This capacitor can also provide voltage for a brief instance if there is a sharp voltage drop or power surge, such as drone take off. Given the fact that the payload of the drone was expected to be at most 2.5 kg, the ideal motor needed to be a low KV (Rpm per volt) motor. The advantage of a low KV motor is that it produces more torque ( hence a bigger propeller can be used), thus generates more static thrust for lifting at a lower current draw compared to higher KV motors. The downside is that the motors are not as fast as higher KV mototrs, however this is desired for the end applicaiton. According to the SunnySky datasheet , the motors will draw a maximum of 36.2 A each if the thrust generated is 1.37 kg. However, as the thrust required to lift the drone (hovering) will never reach that value, the average draw will at most be 20 Amps. Hence, 30 A ESC were selected, these have proven to work properly with our setup. To properly calibrate the ESC, so that the controller knows the maximum and minimum PWM values that can be provided, we employed a function generator. ESC calibration may vary between different brands, however, for the selected ESC, the following method works: Generate a 5V pulse train with a frequency of 50Hz. Set the Duty Cycle to 5%. Connect the function generator output to the ESC PWM wires. Connect the battery to the drone. Set the function generator output to ON. You should hear a tone with 2 or 3 beeps. After the tones, increase the Duty Cycle to 10%, a number of beeps will be heard, followed by an intermittent tone, which will indicate that the calibration process is done. Alternatively, you can use QgroundControl To power the NUC and the PX4 controller, DC/DC converters were selected. Despite the fact that the NUC could be operated directly from the LiPo battery as the input voltage ranges from 12V to 19V, it is not desirable. Voltage dips and transients can damage or affect the NUC operation. E.g. at take off, a voltage sag may result from the power surge demanded by motors and turn off the NUC (voltage lower than 12 V). For this reason, a 150W DC/DC Boost converter was selected to deliver a maximum constant 17 V to the NUC, despite changes in the input voltage. For the PX4, a Buck converter was used to deliver continuous 5 V to the controller. The same selection criteria applies for the controller. The power module that is connected right after the battery is mainly used to provide the current and voltage sensor readings to the PX4, however, the actual voltage to power the PX4, comes from the 5V Buck converter after the Y-PWR board. This achieves the following: The PX4 switch is used to turn ON/OFF the controller and the V/A sensor reading. If the PX4 gets powered by the NUC (USB), the switch enables/disables the V/A reading (as a second safety measure, the drone will not arm).","title":"Electrical design"},{"location":"design/electrical/#electrical-design-considerations","text":"As stated previously, the aim of the project was to improve previous versions of the research drones. The reported issues with the previous platforms are: Hexacopter: Burnt motors, high pitch noise. Quadcopter: NUC power disruption on takeoff or power surge. No current sensor. Two PDBs used. Taking these considerations, the electrical diagram/design is the following: The Q380 bottom plate was used as the PDB, this simplifies the cabling and saves space. We decided to keep the Y-PWR hot-swap load sharing controller, as it acts as an ideal OR to alternate between battery power and wall power. The 2200uF capacitor was selected according to recommended values for drones, to filter ripples, spikes and noise from the LiPo battery ( produced by quickly varying voltages, current and frequencies demanded by the circuit), the aim is to provide a more stable output. This capacitor can also provide voltage for a brief instance if there is a sharp voltage drop or power surge, such as drone take off. Given the fact that the payload of the drone was expected to be at most 2.5 kg, the ideal motor needed to be a low KV (Rpm per volt) motor. The advantage of a low KV motor is that it produces more torque ( hence a bigger propeller can be used), thus generates more static thrust for lifting at a lower current draw compared to higher KV motors. The downside is that the motors are not as fast as higher KV mototrs, however this is desired for the end applicaiton. According to the SunnySky datasheet , the motors will draw a maximum of 36.2 A each if the thrust generated is 1.37 kg. However, as the thrust required to lift the drone (hovering) will never reach that value, the average draw will at most be 20 Amps. Hence, 30 A ESC were selected, these have proven to work properly with our setup. To properly calibrate the ESC, so that the controller knows the maximum and minimum PWM values that can be provided, we employed a function generator. ESC calibration may vary between different brands, however, for the selected ESC, the following method works: Generate a 5V pulse train with a frequency of 50Hz. Set the Duty Cycle to 5%. Connect the function generator output to the ESC PWM wires. Connect the battery to the drone. Set the function generator output to ON. You should hear a tone with 2 or 3 beeps. After the tones, increase the Duty Cycle to 10%, a number of beeps will be heard, followed by an intermittent tone, which will indicate that the calibration process is done. Alternatively, you can use QgroundControl To power the NUC and the PX4 controller, DC/DC converters were selected. Despite the fact that the NUC could be operated directly from the LiPo battery as the input voltage ranges from 12V to 19V, it is not desirable. Voltage dips and transients can damage or affect the NUC operation. E.g. at take off, a voltage sag may result from the power surge demanded by motors and turn off the NUC (voltage lower than 12 V). For this reason, a 150W DC/DC Boost converter was selected to deliver a maximum constant 17 V to the NUC, despite changes in the input voltage. For the PX4, a Buck converter was used to deliver continuous 5 V to the controller. The same selection criteria applies for the controller. The power module that is connected right after the battery is mainly used to provide the current and voltage sensor readings to the PX4, however, the actual voltage to power the PX4, comes from the 5V Buck converter after the Y-PWR board. This achieves the following: The PX4 switch is used to turn ON/OFF the controller and the V/A sensor reading. If the PX4 gets powered by the NUC (USB), the switch enables/disables the V/A reading (as a second safety measure, the drone will not arm).","title":"Electrical design considerations."},{"location":"design/flight_considerations/","text":"Flight Considerations For the drone to be useful for indoor navigation a long flight time (within reason) is desired. For this project, the aim was to achieve a ~10 minute flight with the following considerations were estimated: The expected flight time is determined by a simple formula: where, t flight is the flight time of your drone in minutes; Q is the LiPo battery capacity in mAh; I flying load is the current drawn from the battery by the motors and other equipment assuming the selected flying load, which is based on the type of flying and the weight of the drone. The maximum current drawn from the battery at full flying load I max full load is determined as I max full load = I other + I motor * N motor where I other is the maximum current in amps drawn by various multicopter equipment excluding its motors; I other is the maximum current in amps drawn by a single motor; N motors is the number of motors. The maximum power consumed by the drone W max is defined as W max = I max full load * V bat nominal With 4000mAh LiPo battery: Expected weight of ~2 kg. ~ 500 g thrust@hover/motor -> 7.4 A draw (ideally). ~ 40 A draw from all motors + ~3A draw from normal NUC operation + 20% safety factor. Estimated flight time is = (4 A/ 40 A) * 60 min/hr = 6 min Although, this battery does not deliver the necessary flight time, it was useful to test the drone at earlier stages without hardware modifications. Once the drone was stable at flight, we moved into a larger battery. With 8000mAh LiPo battery: Expected weight of ~2 kg. ~ 500 g thrust@hover/motor -> 7.4 A draw (ideally). ~ 50 A draw from all motors + ~3A draw from normal NUC operation + 20% safety factor. Estimated flight time is = (8 A/ 50 A) * 60 min/hr = 9.6 min With the final iteration of the drone, the following holds: Drone weight with 3 cameras, flight controller, sensors and NUC is currently at 2.5 kg 8500 mAh battery is used to achieve a 12:44 minute flight. Power consumption increased (due to weight increase) to ~80 Amps. Despite the consumption, the battery is never depleted lower than 3.3 V per cell ( for a 4S battery). The recommended limit by the manufacturer to avoid damage to the battery is 3.2 V. Power consumption for the NUC with all 3 RealSense cameras working never exceeds 5 A, with an average of 3.3 A. Current flight time is = 12:44 min All the flight times that were measured in the flight tests were considering a static hovering, so expect the flight time to vary slightly if performing more dynamic movements. General considerations when handling the batteries: Never allow the voltage per cell drop below 3.2 V under load (flying) Wait for the battery to cool down before charging Balance-charge the batteries at 1C to avoid overcharging or damage Keep batteries inside protective bags","title":"Flight time considerations"},{"location":"design/flight_considerations/#flight-considerations","text":"For the drone to be useful for indoor navigation a long flight time (within reason) is desired. For this project, the aim was to achieve a ~10 minute flight with the following considerations were estimated: The expected flight time is determined by a simple formula: where, t flight is the flight time of your drone in minutes; Q is the LiPo battery capacity in mAh; I flying load is the current drawn from the battery by the motors and other equipment assuming the selected flying load, which is based on the type of flying and the weight of the drone. The maximum current drawn from the battery at full flying load I max full load is determined as I max full load = I other + I motor * N motor where I other is the maximum current in amps drawn by various multicopter equipment excluding its motors; I other is the maximum current in amps drawn by a single motor; N motors is the number of motors. The maximum power consumed by the drone W max is defined as W max = I max full load * V bat nominal With 4000mAh LiPo battery: Expected weight of ~2 kg. ~ 500 g thrust@hover/motor -> 7.4 A draw (ideally). ~ 40 A draw from all motors + ~3A draw from normal NUC operation + 20% safety factor. Estimated flight time is = (4 A/ 40 A) * 60 min/hr = 6 min Although, this battery does not deliver the necessary flight time, it was useful to test the drone at earlier stages without hardware modifications. Once the drone was stable at flight, we moved into a larger battery. With 8000mAh LiPo battery: Expected weight of ~2 kg. ~ 500 g thrust@hover/motor -> 7.4 A draw (ideally). ~ 50 A draw from all motors + ~3A draw from normal NUC operation + 20% safety factor. Estimated flight time is = (8 A/ 50 A) * 60 min/hr = 9.6 min With the final iteration of the drone, the following holds: Drone weight with 3 cameras, flight controller, sensors and NUC is currently at 2.5 kg 8500 mAh battery is used to achieve a 12:44 minute flight. Power consumption increased (due to weight increase) to ~80 Amps. Despite the consumption, the battery is never depleted lower than 3.3 V per cell ( for a 4S battery). The recommended limit by the manufacturer to avoid damage to the battery is 3.2 V. Power consumption for the NUC with all 3 RealSense cameras working never exceeds 5 A, with an average of 3.3 A. Current flight time is = 12:44 min All the flight times that were measured in the flight tests were considering a static hovering, so expect the flight time to vary slightly if performing more dynamic movements.","title":"Flight Considerations"},{"location":"design/flight_considerations/#general-considerations-when-handling-the-batteries","text":"Never allow the voltage per cell drop below 3.2 V under load (flying) Wait for the battery to cool down before charging Balance-charge the batteries at 1C to avoid overcharging or damage Keep batteries inside protective bags","title":"General considerations when handling the batteries:"},{"location":"design/mechanical/","text":"Mechanical design considerations. The main objective of this project was to improve the existing drone platforms. Previous working quadcopter Previous working hexacopter Exisitng Drone Specs - Quadcopter Wheelbase (mm) 260 Prop size (mm) 153 Max width (mm) 370 Occupancy sphere radius 207 Empty Mass (g) 760 Full Mass (TX2, 4000mAh LiPo) 1328 Number Propellers 4 Minimum Trust Rastio ( _ : 1 ) 2 Minimum Thrust per motor (g) 664 Exisitng Drone Specs - Hexacopter Wheelbase (mm) 290 Prop size (mm) * 127 Max width (mm) 420 Occupancy sphere radius 209 Empty Mass (g) 1376 Full Mass (8000mAh LiPo) 2026 Number Propellers 6 Minimum Trust Rastio ( _ : 1 ) 2 Minimum Thrust per motor (g) 676 * Hexacopter uses three blade propellers In order to design the new drone, we first required to take into consideration the space limitations on which the previous drones operated and their current specs. In this case, as an indoor drone, it was desirable to be able to pass through doors (800 mm wide) with enough clearance. Given this constrain, we then required to choose the type of frame, motors and propellers that could meet the following requirements: Longer flight time. Better motor/propeller pairing. Heavier payload (3 Intel RealSense cameras & a NUC). Better weight distribution (keep center of mass close to the center of the drone). Stable flight. Starting with the frame, we decided upon a X body, as it is symmetric (pitch & roll), strong, compact and simple. Its natural symmetry is better for balancing flying forces. Considering as well the biggest element the drone carries (Intel NUC), the ideal dimensions were reduced to the following diagram. Element Size(mm) Wheelbase 380 Propeller 204 Drone Occupancy Radius 292 Drone Occupancy Diameter 584 Clearance 124 To determine the type of motors and size of the propellers, we took an estimate of the total mass that the drone had to lift, taking the following considerations: Expected Mass Calculations - Fully Loaded Component Component Mass (g) Count Light Frame 200 0 Heavy frame 710 1 NUC 226 1 TX2 174 0 LiPo Battery (4000 mAh) 392 0 LiPo Battery (8500 mAh) 672 1 RealSense D435i 72 2 RealSense D455** 120 0 RealSense L515*** 100 1 SunnySky X2216-7 1250 KV III 69 4 Larger Motor (_ what model? _) 82 0 Low Level Hardware - Small 380 0 Low Level Hardware - Large 445 1 Total 2573 N/A Ideally we want to have a hovering lift force equal to the weight of the drone, that is a thrust ratio of 2:1. Hence, the maximum thrust we need to generate is 5146 g. Thrust Calculations Expected mass (g) 2573 Thrust ratio ( _ : 1 ) 2 Required Thrust (g) 5146 Motor Count 4 Minimum thrust per motor (g) 1287 Each motor would need to generate at least ~1.3 kg of force to keep the 2:1 ratio. From the vast options of motors and propeller configurations, we employed eCalc 1 to have a better guideline to select the adequate motor. We selected SunnySky X2216-7 1250 KV III for its ratings and specs. eCalc was taken as a rough estimate/guideline of the final performance of the drone. According to SunnySky datasheet , the following combination meets the requirements: For the actual drone frame, we chose the Q380 X frame due to the following useful features: + Complies with the 380-400 mm wheelbase size requirement + Glass filled nylon arms for increased strength and durability + Lightweight arm design + Integrated PDB for easy wiring and tidy installation + Increased internal space for additional electronics/equipment + Additional mounting holes for frame upgrades + Arguably the arm design allows for better CG","title":"Mechanical design"},{"location":"design/mechanical/#mechanical-design-considerations","text":"The main objective of this project was to improve the existing drone platforms. Previous working quadcopter Previous working hexacopter Exisitng Drone Specs - Quadcopter Wheelbase (mm) 260 Prop size (mm) 153 Max width (mm) 370 Occupancy sphere radius 207 Empty Mass (g) 760 Full Mass (TX2, 4000mAh LiPo) 1328 Number Propellers 4 Minimum Trust Rastio ( _ : 1 ) 2 Minimum Thrust per motor (g) 664 Exisitng Drone Specs - Hexacopter Wheelbase (mm) 290 Prop size (mm) * 127 Max width (mm) 420 Occupancy sphere radius 209 Empty Mass (g) 1376 Full Mass (8000mAh LiPo) 2026 Number Propellers 6 Minimum Trust Rastio ( _ : 1 ) 2 Minimum Thrust per motor (g) 676 * Hexacopter uses three blade propellers In order to design the new drone, we first required to take into consideration the space limitations on which the previous drones operated and their current specs. In this case, as an indoor drone, it was desirable to be able to pass through doors (800 mm wide) with enough clearance. Given this constrain, we then required to choose the type of frame, motors and propellers that could meet the following requirements: Longer flight time. Better motor/propeller pairing. Heavier payload (3 Intel RealSense cameras & a NUC). Better weight distribution (keep center of mass close to the center of the drone). Stable flight. Starting with the frame, we decided upon a X body, as it is symmetric (pitch & roll), strong, compact and simple. Its natural symmetry is better for balancing flying forces. Considering as well the biggest element the drone carries (Intel NUC), the ideal dimensions were reduced to the following diagram. Element Size(mm) Wheelbase 380 Propeller 204 Drone Occupancy Radius 292 Drone Occupancy Diameter 584 Clearance 124 To determine the type of motors and size of the propellers, we took an estimate of the total mass that the drone had to lift, taking the following considerations: Expected Mass Calculations - Fully Loaded Component Component Mass (g) Count Light Frame 200 0 Heavy frame 710 1 NUC 226 1 TX2 174 0 LiPo Battery (4000 mAh) 392 0 LiPo Battery (8500 mAh) 672 1 RealSense D435i 72 2 RealSense D455** 120 0 RealSense L515*** 100 1 SunnySky X2216-7 1250 KV III 69 4 Larger Motor (_ what model? _) 82 0 Low Level Hardware - Small 380 0 Low Level Hardware - Large 445 1 Total 2573 N/A Ideally we want to have a hovering lift force equal to the weight of the drone, that is a thrust ratio of 2:1. Hence, the maximum thrust we need to generate is 5146 g. Thrust Calculations Expected mass (g) 2573 Thrust ratio ( _ : 1 ) 2 Required Thrust (g) 5146 Motor Count 4 Minimum thrust per motor (g) 1287 Each motor would need to generate at least ~1.3 kg of force to keep the 2:1 ratio. From the vast options of motors and propeller configurations, we employed eCalc 1 to have a better guideline to select the adequate motor. We selected SunnySky X2216-7 1250 KV III for its ratings and specs. eCalc was taken as a rough estimate/guideline of the final performance of the drone. According to SunnySky datasheet , the following combination meets the requirements: For the actual drone frame, we chose the Q380 X frame due to the following useful features: + Complies with the 380-400 mm wheelbase size requirement + Glass filled nylon arms for increased strength and durability + Lightweight arm design + Integrated PDB for easy wiring and tidy installation + Increased internal space for additional electronics/equipment + Additional mounting holes for frame upgrades + Arguably the arm design allows for better CG","title":"Mechanical design considerations."},{"location":"parts/about/","text":"Parts Summary The drone assembly requires a combination of purchased parts, custom designed 3D printed parts, and custom made cabling. This page details all necessary parts and how they can be obtained. If you are assembling this drone for the KTH CAS-UAV lab, you should check all inventory prior to making any purchase orders as some parts are likely already be on hand. Parts Summary by System Body / Landing Gear System Part Name Part Description Category Body Drone Frame 380mm Multirotor Quadcopter Frame Purchased Body Large Battery Adapter Large Battery Adapter 3D Printed Landing Gear Landing Gear Assembly Landing Gear Assembly 3D Printed Landing Gear Landing Gear Magnets 8mm x 3mm (1.3 kg force) magnets Purchased Flight Systems System Part Name Part Description Category Flight Systems Flight Control Unit (FCU) PixHawk 4 Purchased Flight Systems FCU Vibration Isolator Pixhawk 4 Vibration Damping Mount Purchased Flight Systems FCU Arming Switch PX4 Arming Switch Purchased Flight Systems Range Finder TeraRanger Evo Mini Purchased Flight Systems Optical Flow Sensor PWM3901 Optical Flow Sensor Purchased Flight Systems ESP8266 Wifi Module Adafruit Feather HUZZAH with ESP8266 Purchased Flight Systems Radio Receiver FrSky D4R-II 4ch Receiver Purchased Flight Systems Radio Controller FrSky Taranis X9D Plus 1 Purchased Flight Systems Sensor Plate Low Level Sensor Plate 3D Printed Notes Can be shared among multiple UAVs. Peripherals System Part Name Part Description Category Companion Computer Intel NUC 1 Intel\u00ae NUC 8 Pro Board - NUC8v7PNB Purchased Companion Computer NUC Mount 2 NUC Mount Assembly 3D Printed Perception RealSense Lidar Camera RealSense L515 Purchased Perception L515 Camera Mount L515 Camera Mount 3D Printed Perception RealSense Stereo Camera RealSense D435i Purchased Perception Camera Screws 0.25\" Camera Screw Purchased Notes It is recommended to purchase the up-to-date, highest quality NUC model. The 3D printed NUC mount CAD file may need modifications if the footprint changes with newer models. The mount was designed for a NUC8BEB model. Power Supply System Part Name Part Description Category Power Supply Battery Voltage Alarm In Line Battery Voltage Alarm Purchased Power Supply Hot Swap Board Y-PWR (5-30V, max. 2x 10A) Purchased Power Supply LiPo Battery 4S - 8500mAh - 50C LiPo Purchased Power Supply Boost Converter DC-DC 10-32V To 12-35V 150W Booster Purchased Power Supply Boost Converter Mount Boost Converter Mount 3D Printed Power Supply PX4 power supply PX4 power supply (Buck Converter) Purchased Power Supply Capacitor Purchased Power Supply Power Connector Holder Power Connector Holder 3D Printed Power Supply FCU Power Switch FCU Power / Reboot Switch Purchased Power Supply XT60 Connectors XT60 Connectors Purchased Power Supply XT90 Connectors XT90 Connectors Purchased Propulsion System Part Name Part Description Category Propulsion Motors SunnySky X2216 V3 - 1250kV - short shaft Purchased Propulsion 30A, 2S-4S ESC's 30A, 2S-4S Multirotor ESC's Purchased Propulsion Propellers 8045 Propellers - 2x CW & 2x CCW Purchased Propulsion Propeller Adapters 5mm (M5) prop adapters - 2x CW & 2x CCW Purchased Propulsion Propeller Guards Propeller Guards - 8045 props Either Notes There are two options for propeller guards. The purchased guards have proven to withstand more damage during collisions. Cabling -- TODO: We need a summary of all cabling (esp. custom cables) required for building the drone. -- Hardware / etc. Zipties Small Large (e.g. 200mm x 4.6mm) Screws w/ nuts (M3, M4, M5) Double sided sticky foam pads ...","title":"Summary"},{"location":"parts/about/#parts-summary","text":"The drone assembly requires a combination of purchased parts, custom designed 3D printed parts, and custom made cabling. This page details all necessary parts and how they can be obtained. If you are assembling this drone for the KTH CAS-UAV lab, you should check all inventory prior to making any purchase orders as some parts are likely already be on hand.","title":"Parts Summary"},{"location":"parts/about/#parts-summary-by-system","text":"","title":"Parts Summary by System"},{"location":"parts/about/#body-landing-gear","text":"System Part Name Part Description Category Body Drone Frame 380mm Multirotor Quadcopter Frame Purchased Body Large Battery Adapter Large Battery Adapter 3D Printed Landing Gear Landing Gear Assembly Landing Gear Assembly 3D Printed Landing Gear Landing Gear Magnets 8mm x 3mm (1.3 kg force) magnets Purchased","title":"Body / Landing Gear"},{"location":"parts/about/#flight-systems","text":"System Part Name Part Description Category Flight Systems Flight Control Unit (FCU) PixHawk 4 Purchased Flight Systems FCU Vibration Isolator Pixhawk 4 Vibration Damping Mount Purchased Flight Systems FCU Arming Switch PX4 Arming Switch Purchased Flight Systems Range Finder TeraRanger Evo Mini Purchased Flight Systems Optical Flow Sensor PWM3901 Optical Flow Sensor Purchased Flight Systems ESP8266 Wifi Module Adafruit Feather HUZZAH with ESP8266 Purchased Flight Systems Radio Receiver FrSky D4R-II 4ch Receiver Purchased Flight Systems Radio Controller FrSky Taranis X9D Plus 1 Purchased Flight Systems Sensor Plate Low Level Sensor Plate 3D Printed","title":"Flight Systems"},{"location":"parts/about/#notes","text":"Can be shared among multiple UAVs.","title":"Notes"},{"location":"parts/about/#peripherals","text":"System Part Name Part Description Category Companion Computer Intel NUC 1 Intel\u00ae NUC 8 Pro Board - NUC8v7PNB Purchased Companion Computer NUC Mount 2 NUC Mount Assembly 3D Printed Perception RealSense Lidar Camera RealSense L515 Purchased Perception L515 Camera Mount L515 Camera Mount 3D Printed Perception RealSense Stereo Camera RealSense D435i Purchased Perception Camera Screws 0.25\" Camera Screw Purchased","title":"Peripherals"},{"location":"parts/about/#notes_1","text":"It is recommended to purchase the up-to-date, highest quality NUC model. The 3D printed NUC mount CAD file may need modifications if the footprint changes with newer models. The mount was designed for a NUC8BEB model.","title":"Notes"},{"location":"parts/about/#power-supply","text":"System Part Name Part Description Category Power Supply Battery Voltage Alarm In Line Battery Voltage Alarm Purchased Power Supply Hot Swap Board Y-PWR (5-30V, max. 2x 10A) Purchased Power Supply LiPo Battery 4S - 8500mAh - 50C LiPo Purchased Power Supply Boost Converter DC-DC 10-32V To 12-35V 150W Booster Purchased Power Supply Boost Converter Mount Boost Converter Mount 3D Printed Power Supply PX4 power supply PX4 power supply (Buck Converter) Purchased Power Supply Capacitor Purchased Power Supply Power Connector Holder Power Connector Holder 3D Printed Power Supply FCU Power Switch FCU Power / Reboot Switch Purchased Power Supply XT60 Connectors XT60 Connectors Purchased Power Supply XT90 Connectors XT90 Connectors Purchased","title":"Power Supply"},{"location":"parts/about/#propulsion","text":"System Part Name Part Description Category Propulsion Motors SunnySky X2216 V3 - 1250kV - short shaft Purchased Propulsion 30A, 2S-4S ESC's 30A, 2S-4S Multirotor ESC's Purchased Propulsion Propellers 8045 Propellers - 2x CW & 2x CCW Purchased Propulsion Propeller Adapters 5mm (M5) prop adapters - 2x CW & 2x CCW Purchased Propulsion Propeller Guards Propeller Guards - 8045 props Either","title":"Propulsion"},{"location":"parts/about/#notes_2","text":"There are two options for propeller guards. The purchased guards have proven to withstand more damage during collisions.","title":"Notes"},{"location":"parts/about/#cabling","text":"-- TODO: We need a summary of all cabling (esp. custom cables) required for building the drone. --","title":"Cabling"},{"location":"parts/about/#hardware-etc","text":"Zipties Small Large (e.g. 200mm x 4.6mm) Screws w/ nuts (M3, M4, M5) Double sided sticky foam pads ...","title":"Hardware / etc."},{"location":"parts/cabling/","text":"Cabling Summary The PX4 FMU v5 requires some custom cables to interact with the sensors. Here you will find the necessary information to replicate such cables. PMW3901 cable The PX4 has 1 SPI port with the following pinout.Pixhawk SPI connector is JST-GH 7 pins. Teraranger EVO mini cable From the official documentation, you require to wire the Teraranger like this . The PX4 FMU v5 has two I2C ports, you are interested in the port A. Pixhawk I2C connector is JST-GH 4 pins. ESP8266 cable The PX4 FMU v5 has 2 telemetry ports. Telemetry 2 is the port to connect the ESP8266. The connector is a JST-GH 6 pins. Arm button cable The PX4 FMU v5 has 1 GPS port, this port has the pins needed for the arm button. The connector is a JST-GH 10 pins.","title":"Cabling"},{"location":"parts/cabling/#cabling-summary","text":"The PX4 FMU v5 requires some custom cables to interact with the sensors. Here you will find the necessary information to replicate such cables.","title":"Cabling Summary"},{"location":"parts/cabling/#pmw3901-cable","text":"The PX4 has 1 SPI port with the following pinout.Pixhawk SPI connector is JST-GH 7 pins.","title":"PMW3901 cable"},{"location":"parts/cabling/#teraranger-evo-mini-cable","text":"From the official documentation, you require to wire the Teraranger like this . The PX4 FMU v5 has two I2C ports, you are interested in the port A. Pixhawk I2C connector is JST-GH 4 pins.","title":"Teraranger EVO mini cable"},{"location":"parts/cabling/#esp8266-cable","text":"The PX4 FMU v5 has 2 telemetry ports. Telemetry 2 is the port to connect the ESP8266. The connector is a JST-GH 6 pins.","title":"ESP8266 cable"},{"location":"parts/cabling/#arm-button-cable","text":"The PX4 FMU v5 has 1 GPS port, this port has the pins needed for the arm button. The connector is a JST-GH 10 pins.","title":"Arm button cable"},{"location":"parts/hardware/","text":"Hardware / Fasteners Summary TO DO","title":"Hardware / Fasteners"},{"location":"parts/hardware/#hardware-fasteners-summary","text":"TO DO","title":"Hardware / Fasteners Summary"},{"location":"parts/printed_parts/","text":"3D Printed Parts Summary The following 3D printed parts are required for constructing the drone as designed. Note that all links include the required .stl files for 3D printing, while some links will include .ipt (AutoDesk Inventor) files that can be improved / customized. If there are any access issues please contact Kyle Coble at kwc57@cornell.edu . Link to all CAD file folders System Part Type Part Name Quantity CAD Link Body Large Battery Adapter Large Battery Adapter 4 Large Battery Adapter Landing Gear Landing Gear Assembly Landing Gear Assembly 4 Landing Gear Assembly Flight Systems Sensor Plate Low Level Sensor Plate 1 Low Level Sensor Plate Companion Computer NUC Mount NUC Mount Assembly 1 NUC Mount Assembly Perception L515 Camera Mount L515 Camera Mount 1 L515 Camera Mount Power Supply Boost Converter Mount Boost Converter Mount 1 Boost Converter Mount Power Supply Power Connector Holder Power Connector Holder 1 Power Connector Holder Propulsion Propeller Guards Propeller Guards - 8045 props 4 Propeller Guards","title":"Printed Parts"},{"location":"parts/printed_parts/#3d-printed-parts-summary","text":"The following 3D printed parts are required for constructing the drone as designed. Note that all links include the required .stl files for 3D printing, while some links will include .ipt (AutoDesk Inventor) files that can be improved / customized. If there are any access issues please contact Kyle Coble at kwc57@cornell.edu . Link to all CAD file folders System Part Type Part Name Quantity CAD Link Body Large Battery Adapter Large Battery Adapter 4 Large Battery Adapter Landing Gear Landing Gear Assembly Landing Gear Assembly 4 Landing Gear Assembly Flight Systems Sensor Plate Low Level Sensor Plate 1 Low Level Sensor Plate Companion Computer NUC Mount NUC Mount Assembly 1 NUC Mount Assembly Perception L515 Camera Mount L515 Camera Mount 1 L515 Camera Mount Power Supply Boost Converter Mount Boost Converter Mount 1 Boost Converter Mount Power Supply Power Connector Holder Power Connector Holder 1 Power Connector Holder Propulsion Propeller Guards Propeller Guards - 8045 props 4 Propeller Guards","title":"3D Printed Parts Summary"},{"location":"parts/purchased_parts/","text":"Purchased Parts Summary The table below includes prices, quantities, and links for items to be purchased for constructing a replica of the drone designed in this project. Disclaimers: Some links may expire, prices will vary (esp. with fluctuating currency exchange rates), and exact parts may become unavailable. These are not the only sources for purchasing these components. It is recommended to order duplicates (or more) of all parts as damage/failure of certain components is likely during flights and collisions. Certain parts are noted as a strong recommendation to order spares, but spares for all parts are worthwhile. Prices are presented in SEK, from January 2021. Prices do not include taxes, shipping, import fees, etc. Body Part Name Part Description Unit Price Quantity Purchase Link Drone Frame 380mm Multirotor Quadcopter Frame 128 SEK 1 Q380 Drone Frame Landing Gear Magnets 8mm x 3mm (1.3 kg force) magnets 18 SEK 24+ 1 NdFeB magnets Notes 3 per leg are installed (12 total). It is worth ordering a full extra set as they are fragile. Flight Systems Part Name Part Description Unit Price Quantity Purchase Link Pixhawk 4 (FCU) Pixhawk 4 (plastic) & PM07\u200b (SKU20045) 1,391 SEK 1 Pixhawk 4 FCU Vibration Isolator Pixhawk 4 Vibration Damping Mount 74 SEK 1 PX4 Mount FCU Arming Switch PX4 Arming Switch 25 SEK 1 Arming Switch Range Finder TeraRanger Evo Mini (I2C / UART) 272 SEK 1 TeraRanger Evo Mini Optical Flow Sensor PWM3901 Optical Flow Sensor 174 SEK 1 PWM3901 SPI ESP8266 Wifi Module Adafruit Feather HUZZAH with ESP8266 249 SEK 1 HUZZAH with ESP8266 Radio Receiver FrSky D4R-II 4ch Receiver 1 205 SEK 1 FrSky D4R-II Radio Controller FrSky Taranis X9D Plus 1,787 SEK 1 FrSky Taranis X9D Plus Notes May need to be updated to a newer FrSky model if stock can't be found. Peripherals Part Name Part Description Unit Price Quantity Purchase Link Intel NUC Intel\u00ae NUC 8 Pro Board - NUC8v7PNB 6,950 SEK 1 Intel NUC 8 RealSense Lidar Camera RealSense L515 2,866 SEK 1 RealSense L515 RealSense Stereo Camera RealSense D435i 1,638 SEK 2 RealSense D345i Camera Screws 0.25\" Camera Screw 17 SEK 3 1/4\" Camera Screw Power Supply Part Name Part Description Unit Price Quantity Purchase Link Battery Voltage Alarm In Line Battery Voltage Alarm 84 SEK 1 Voltage Alarm Hot Swap Board Y-PWR (5-30V, max. 2x 10A) 201 SEK 1 Y-PWR Hot Swap Board LiPo Battery 4S - 8500mAh - 50C LiPo 1 1,340 SEK 1 4s 8500mAh - 50C - Gens Ace XT90 LiPo Boost Converter DC-DC 10-32V To 12-35V 150W Booster 59 SEK 1 Boost Converter PX4 power supply PX4 power supply (Buck Converter) 106 SEK 1 PX4 Power Module Capacitor FCU Power Switch FCU Power / Reboot Switch XT60 Connectors XT60 Connectors (10 pack) 2 57 SEK 1 XT60 pack XT90 Connectors XT90 Connectors (5 pack) 2 106 SEK 1 XT90 pack Notes It does not have to be this exact battery, but it is important that: The form factor is similar, esp. height and width (47mm x 42mm) The battery is a 4 Cell (4S) LiPo The discharge (C) rating can sustain ~100 A discharge Only 1 each of XT60 & XT90 connectors needed, but they are usually purchased in a pack. Propulsion Part Name Part Description Unit Price Quantity Purchase Link Motors SunnySky X2216 V3 - 1250kV - short shaft 187 SEK 6+ 1 SunnySky V3 X2216 Motors 30A, 2S-4S ESC's 30A, 2S-4S Multirotor ESC's 86 SEK 12+ 2,3 30A, 4S ESC's Propellers 8045 Propellers - 2x CW & 2x CCW 32 SEK 10+ 4 8045 CW & CCW Propellers Propeller Adapters 5mm (M5) prop adapters - 2x CW & 2x CCW 71 SEK 1 M5 Prop Adapters Propeller Guards Propeller Guards - 8045 props 8+ 5 Notes Purchase at least 5 motors in case one is damaged or fails (somewhat likely). These are only a representative example of 30A ESC's. Any similar product will do. Purchase at least 12 ESC's in case some fail / burn up (very likely). Technically the recommended motors can draw > 30 A, but shouldn't under the design conditions. Additionally, 40 A ESC's are excessively heavy and more expensive. Purchase around 10 packs of blades (4 per pack) as any collisions may result in damaged propellers that require replacement. Purchase at least 2 sets of propeller guards as any extreme collisions may result in damaged guards that require replacement.","title":"Purchased Parts"},{"location":"parts/purchased_parts/#purchased-parts-summary","text":"The table below includes prices, quantities, and links for items to be purchased for constructing a replica of the drone designed in this project. Disclaimers: Some links may expire, prices will vary (esp. with fluctuating currency exchange rates), and exact parts may become unavailable. These are not the only sources for purchasing these components. It is recommended to order duplicates (or more) of all parts as damage/failure of certain components is likely during flights and collisions. Certain parts are noted as a strong recommendation to order spares, but spares for all parts are worthwhile. Prices are presented in SEK, from January 2021. Prices do not include taxes, shipping, import fees, etc.","title":"Purchased Parts Summary"},{"location":"parts/purchased_parts/#body","text":"Part Name Part Description Unit Price Quantity Purchase Link Drone Frame 380mm Multirotor Quadcopter Frame 128 SEK 1 Q380 Drone Frame Landing Gear Magnets 8mm x 3mm (1.3 kg force) magnets 18 SEK 24+ 1 NdFeB magnets","title":"Body"},{"location":"parts/purchased_parts/#notes","text":"3 per leg are installed (12 total). It is worth ordering a full extra set as they are fragile.","title":"Notes"},{"location":"parts/purchased_parts/#flight-systems","text":"Part Name Part Description Unit Price Quantity Purchase Link Pixhawk 4 (FCU) Pixhawk 4 (plastic) & PM07\u200b (SKU20045) 1,391 SEK 1 Pixhawk 4 FCU Vibration Isolator Pixhawk 4 Vibration Damping Mount 74 SEK 1 PX4 Mount FCU Arming Switch PX4 Arming Switch 25 SEK 1 Arming Switch Range Finder TeraRanger Evo Mini (I2C / UART) 272 SEK 1 TeraRanger Evo Mini Optical Flow Sensor PWM3901 Optical Flow Sensor 174 SEK 1 PWM3901 SPI ESP8266 Wifi Module Adafruit Feather HUZZAH with ESP8266 249 SEK 1 HUZZAH with ESP8266 Radio Receiver FrSky D4R-II 4ch Receiver 1 205 SEK 1 FrSky D4R-II Radio Controller FrSky Taranis X9D Plus 1,787 SEK 1 FrSky Taranis X9D Plus","title":"Flight Systems"},{"location":"parts/purchased_parts/#notes_1","text":"May need to be updated to a newer FrSky model if stock can't be found.","title":"Notes"},{"location":"parts/purchased_parts/#peripherals","text":"Part Name Part Description Unit Price Quantity Purchase Link Intel NUC Intel\u00ae NUC 8 Pro Board - NUC8v7PNB 6,950 SEK 1 Intel NUC 8 RealSense Lidar Camera RealSense L515 2,866 SEK 1 RealSense L515 RealSense Stereo Camera RealSense D435i 1,638 SEK 2 RealSense D345i Camera Screws 0.25\" Camera Screw 17 SEK 3 1/4\" Camera Screw","title":"Peripherals"},{"location":"parts/purchased_parts/#power-supply","text":"Part Name Part Description Unit Price Quantity Purchase Link Battery Voltage Alarm In Line Battery Voltage Alarm 84 SEK 1 Voltage Alarm Hot Swap Board Y-PWR (5-30V, max. 2x 10A) 201 SEK 1 Y-PWR Hot Swap Board LiPo Battery 4S - 8500mAh - 50C LiPo 1 1,340 SEK 1 4s 8500mAh - 50C - Gens Ace XT90 LiPo Boost Converter DC-DC 10-32V To 12-35V 150W Booster 59 SEK 1 Boost Converter PX4 power supply PX4 power supply (Buck Converter) 106 SEK 1 PX4 Power Module Capacitor FCU Power Switch FCU Power / Reboot Switch XT60 Connectors XT60 Connectors (10 pack) 2 57 SEK 1 XT60 pack XT90 Connectors XT90 Connectors (5 pack) 2 106 SEK 1 XT90 pack","title":"Power Supply"},{"location":"parts/purchased_parts/#notes_2","text":"It does not have to be this exact battery, but it is important that: The form factor is similar, esp. height and width (47mm x 42mm) The battery is a 4 Cell (4S) LiPo The discharge (C) rating can sustain ~100 A discharge Only 1 each of XT60 & XT90 connectors needed, but they are usually purchased in a pack.","title":"Notes"},{"location":"parts/purchased_parts/#propulsion","text":"Part Name Part Description Unit Price Quantity Purchase Link Motors SunnySky X2216 V3 - 1250kV - short shaft 187 SEK 6+ 1 SunnySky V3 X2216 Motors 30A, 2S-4S ESC's 30A, 2S-4S Multirotor ESC's 86 SEK 12+ 2,3 30A, 4S ESC's Propellers 8045 Propellers - 2x CW & 2x CCW 32 SEK 10+ 4 8045 CW & CCW Propellers Propeller Adapters 5mm (M5) prop adapters - 2x CW & 2x CCW 71 SEK 1 M5 Prop Adapters Propeller Guards Propeller Guards - 8045 props 8+ 5","title":"Propulsion"},{"location":"parts/purchased_parts/#notes_3","text":"Purchase at least 5 motors in case one is damaged or fails (somewhat likely). These are only a representative example of 30A ESC's. Any similar product will do. Purchase at least 12 ESC's in case some fail / burn up (very likely). Technically the recommended motors can draw > 30 A, but shouldn't under the design conditions. Additionally, 40 A ESC's are excessively heavy and more expensive. Purchase around 10 packs of blades (4 per pack) as any collisions may result in damaged propellers that require replacement. Purchase at least 2 sets of propeller guards as any extreme collisions may result in damaged guards that require replacement.","title":"Notes"}]}